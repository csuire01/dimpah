
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Text Mining &#8212; DiMPAH - Digital Historical Research on European Historical Newspapers with the NewsEye Platform</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.e2363ea40746bee74734a24ffefccd78.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Named Entity Recognition (NER)" href="2-2-2-named-entity-recognition.html" />
    <link rel="prev" title="Document Understanding and Information Extraction Overview" href="2-1-1-information-extraction-overview.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">DiMPAH - Digital Historical Research on European Historical Newspapers with the NewsEye Platform</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Digital Historical Research on European Historical Newspapers with the NewsEye Platform
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Introduction to historical newspaper analysis and digitisation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../unit1/1-intro.html">
   Introduction
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Information extraction and document understanding
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="2-intro.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-1-1-information-extraction-overview.html">
   Document Understanding and Information Extraction Overview
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Text Mining
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-2-2-named-entity-recognition.html">
   Named Entity Recognition (NER)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-3-1-benefits-and-methods-of-semantic-enrichment.html">
   Document Semantic Enrichment (DSE)
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Document retrieval and information seeking
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../unit3/3-intro.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../unit3/3-1-text-indexing.html">
   Understanding text indexing process
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../unit3/3-1-1-definition-and-objectives.html">
     Definition and objectives
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../unit3/3-1-2-indexing-metadata.html">
     Indexing Metadata
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../unit3/3-1-3-indexing-indexing-text-content.html">
     Indexing text content
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../unit3/3-2-text-search.html">
   Text Search Algorithms
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../unit3/3-2-1-ranking-problem.html">
     1. Introduction to Ranking Problem
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../unit3/3-2-2-searching-with-solr.html">
     2. Searching with Solr
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../unit3/3-2-3-result-representations.html">
     Result representations
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../unit3/3-3-advanced-search.html">
   Advanced Search in Historical documents
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../unit3/3-3-1-demonstration-of-blackboxes.html">
     Demonstration of blackboxes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../unit3/3-3-2-search-and-exploration.html">
     Advanced Search and Exploration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../unit3/3-3-3-critical-thinking.html">
     Critical Thinking on NewsEye Examples
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/unit2/2-2-1-text-mining.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/csuire01/dimpah"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/csuire01/dimpah/issues/new?title=Issue%20on%20page%20%2Funit2/2-2-1-text-mining.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/csuire01/dimpah/main?urlpath=tree/dimpah_io4/unit2/2-2-1-text-mining.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#b-text-pre-processing">
   (b) Text Pre-processing
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#i-programming-basics">
   i. Programming Basics
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#regex-basics">
   RegEx Basics
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ii-natural-language-processing-nlp-programming-basics">
   ii. Natural Language Processing (NLP) Programming Basics
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#iii-stopwords">
   iii. Stopwords
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#iv-collocations-and-n-grams">
   iv. Collocations and n-grams
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#v-part-of-speech-pos-tagging">
   v. Part-of-speech (PoS) tagging
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#vi-chunking">
   vi. Chunking
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="text-mining">
<h1>Text Mining<a class="headerlink" href="#text-mining" title="Permalink to this headline">¶</a></h1>
<p>Text mining
Prerequisite: Technicalities
Wikidata API, other APIs
Scraping HTML to extract structured/semi-structured information</p>
<p>Processing text
Rule based (regex, etc)
PoS tagging
N-grams, co-occurrences and concordancer
Word embeddings (word2vec, BERT, etc)</p>
<div class="section" id="b-text-pre-processing">
<h2>(b) Text Pre-processing<a class="headerlink" href="#b-text-pre-processing" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Rule-based Techniques (regex, etc)</p></li>
<li><p>Part-of-Speech (PoS) tagging</p></li>
<li><p>Chunking</p></li>
<li><p>N-grams, co-occurrences and concordancer</p></li>
<li><p>Word embeddings (word2vec, BERT, etc)</p></li>
</ul>
</div>
<div class="section" id="i-programming-basics">
<h2>i. Programming Basics<a class="headerlink" href="#i-programming-basics" title="Permalink to this headline">¶</a></h2>
<p>A <strong>text</strong> as nothing more than a sequence of <strong>words</strong> and <strong>punctuation</strong>. In the following example, <code class="docutils literal notranslate"><span class="pre">sentence</span></code> followed by the <code class="docutils literal notranslate"><span class="pre">=</span></code> sign, and then some quoted words, separated with commas, surrounded with brackets is known as a list in Python.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentence</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;History&quot;</span><span class="p">,</span> <span class="s2">&quot;is&quot;</span><span class="p">,</span> <span class="s2">&quot;full&quot;</span><span class="p">,</span> <span class="s2">&quot;of&quot;</span><span class="p">,</span> <span class="s2">&quot;people&quot;</span><span class="p">,</span> <span class="s2">&quot;who&quot;</span><span class="p">,</span> <span class="s2">&quot;knew&quot;</span><span class="p">,</span> <span class="s2">&quot;about&quot;</span><span class="p">,</span> <span class="s2">&quot;history&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Next, we can print the contents of the <code class="docutils literal notranslate"><span class="pre">sentence</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentence</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;History&#39;, &#39;is&#39;, &#39;full&#39;, &#39;of&#39;, &#39;people&#39;, &#39;who&#39;, &#39;knew&#39;, &#39;about&#39;, &#39;history&#39;]
</pre></div>
</div>
</div>
</div>
<p>We can ask for its length to find how many words are in the sentence:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>9
</pre></div>
</div>
</div>
</div>
<p>For the purpose of this exercise, we define two sentences:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentence1</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;History&quot;</span><span class="p">,</span> <span class="s2">&quot;is&quot;</span><span class="p">,</span> <span class="s2">&quot;full&quot;</span><span class="p">,</span> <span class="s2">&quot;of&quot;</span><span class="p">,</span> <span class="s2">&quot;people&quot;</span><span class="p">,</span> <span class="s2">&quot;who&quot;</span><span class="p">,</span> <span class="s2">&quot;knew&quot;</span><span class="p">,</span> <span class="s2">&quot;about&quot;</span><span class="p">,</span> <span class="s2">&quot;history&quot;</span><span class="p">]</span>
<span class="n">sentence2</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;but&quot;</span><span class="p">,</span> <span class="s2">&quot;kept&quot;</span><span class="p">,</span> <span class="s2">&quot;on&quot;</span><span class="p">,</span> <span class="s2">&quot;repeating&quot;</span><span class="p">,</span> <span class="s2">&quot;the&quot;</span><span class="p">,</span> <span class="s2">&quot;same&quot;</span><span class="p">,</span> <span class="s2">&quot;mistakes&quot;</span><span class="p">,</span> <span class="s2">&quot;again&quot;</span><span class="p">,</span> <span class="s2">&quot;and&quot;</span><span class="p">,</span> <span class="s2">&quot;again&quot;</span><span class="p">,</span> <span class="s2">&quot;anyway&quot;</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sentence1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sentence2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;History&#39;, &#39;is&#39;, &#39;full&#39;, &#39;of&#39;, &#39;people&#39;, &#39;who&#39;, &#39;knew&#39;, &#39;about&#39;, &#39;history&#39;]
[&#39;but&#39;, &#39;kept&#39;, &#39;on&#39;, &#39;repeating&#39;, &#39;the&#39;, &#39;same&#39;, &#39;mistakes&#39;, &#39;again&#39;, &#39;and&#39;, &#39;again&#39;, &#39;anyway&#39;]
</pre></div>
</div>
</div>
</div>
<p>Adding two lists creates a new list with everything from the first list, followed by everything from the second list:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentence</span> <span class="o">=</span> <span class="n">sentence1</span> <span class="o">+</span> <span class="n">sentence2</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;History&#39;, &#39;is&#39;, &#39;full&#39;, &#39;of&#39;, &#39;people&#39;, &#39;who&#39;, &#39;knew&#39;, &#39;about&#39;, &#39;history&#39;, &#39;but&#39;, &#39;kept&#39;, &#39;on&#39;, &#39;repeating&#39;, &#39;the&#39;, &#39;same&#39;, &#39;mistakes&#39;, &#39;again&#39;, &#39;and&#39;, &#39;again&#39;, &#39;anyway&#39;]
</pre></div>
</div>
</div>
</div>
<p>We can add a new item to the list. When we <code class="docutils literal notranslate"><span class="pre">append()</span></code> to a list, the list itself is updated as a result of the operation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentence</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;History&#39;, &#39;is&#39;, &#39;full&#39;, &#39;of&#39;, &#39;people&#39;, &#39;who&#39;, &#39;knew&#39;, &#39;about&#39;, &#39;history&#39;, &#39;but&#39;, &#39;kept&#39;, &#39;on&#39;, &#39;repeating&#39;, &#39;the&#39;, &#39;same&#39;, &#39;mistakes&#39;, &#39;again&#39;, &#39;and&#39;, &#39;again&#39;, &#39;anyway&#39;, &#39;.&#39;]
</pre></div>
</div>
</div>
</div>
<p>We can identify the elements of a Python list by their order of occurrence in the list:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">sentence</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>History
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">sentence</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>people
</pre></div>
</div>
</div>
</div>
<p>We can also extract a <em>slice</em> or <em>sublist</em> from <code class="docutils literal notranslate"><span class="pre">sentence</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">sentence</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;is&#39;, &#39;full&#39;, &#39;of&#39;, &#39;people&#39;]
</pre></div>
</div>
</div>
</div>
<p>Any individual word in the <code class="docutils literal notranslate"><span class="pre">sentence</span></code> is a <code class="docutils literal notranslate"><span class="pre">word</span></code> of type <em>String</em> (short <em>str</em>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;history&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">word</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>history
&lt;class &#39;str&#39;&gt;
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="regex-basics">
<h2>RegEx Basics<a class="headerlink" href="#regex-basics" title="Permalink to this headline">¶</a></h2>
<p>Regular expressions or RegEx is a sequence of characters mainly used to find or replace patterns embedded in the text.</p>
<ul class="simple">
<li><p>\b returns a match where the specified pattern is at the beginning or at the end of a word.</p></li>
<li><p>\d returns a match where the string contains digits (numbers from 0-9).</p></li>
<li><p>\D returns a match where the string does not contain any digit. It is basically the opposite of \d.</p></li>
<li><p>\w helps in extraction of alphanumeric characters only (characters from a to Z, digits from 0-9, and the underscore _ character)</p></li>
<li><p>\W returns match at every non-alphanumeric character. Basically opposite of \w.</p></li>
<li><p>(.) matches any character (except newline character)</p></li>
<li><p>(^) checks whether the string starts with the given pattern or not.</p></li>
<li><p>($) checks whether the string ends with the given pattern or not.</p></li>
<li><p>(*) matches for zero or more occurrences of the pattern to the left of it</p></li>
<li><p>(+) matches one or more occurrences of the pattern to the left of it</p></li>
<li><p>(?) matches zero or one occurrence of the pattern left to it.</p></li>
<li><p>(|) checks whether any of the two patterns, to its left and right, is present in the text or not.</p></li>
</ul>
<p>Python has a built-in module to work with regular expressions called <code class="docutils literal notranslate"><span class="pre">re</span></code>. Some common methods from this module are:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>- re.match()
- re.search()
- re.findall()
</pre></div>
</div>
<ol class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">re.match(pattern,</span> <span class="pre">string)</span></code> function returns a match object on success and none on failure.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;History&#39;</span><span class="p">,</span> <span class="s1">&#39;History is full of people who knew about history.&#39;</span><span class="p">)</span>

<span class="n">result</span><span class="o">.</span><span class="n">span</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(0, 7)
</pre></div>
</div>
</div>
</div>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">re.search(pattern,</span> <span class="pre">string)</span></code> matches the first occurrence of a pattern in the entire string(and not just at the beginning).</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;history&#39;</span><span class="p">,</span> <span class="s1">&#39;History is full of people who knew about history.&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>history
</pre></div>
</div>
</div>
</div>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">re.findall(pattern,</span> <span class="pre">string)</span></code> will return all the occurrences of the pattern from the string. I would recommend you to use re.findall() always, it can work like both <code class="docutils literal notranslate"><span class="pre">re.search()</span></code> and <code class="docutils literal notranslate"><span class="pre">re.match()</span></code>.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;history&#39;</span><span class="p">,</span> <span class="s1">&#39;History is full of people who knew about history but they kept on repeating the history.&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;history&#39;, &#39;history&#39;]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="ii-natural-language-processing-nlp-programming-basics">
<h2>ii. Natural Language Processing (NLP) Programming Basics<a class="headerlink" href="#ii-natural-language-processing-nlp-programming-basics" title="Permalink to this headline">¶</a></h2>
<p>For a deeper introduction into NLP programming techniques, we continue with the usage of NLTK. <a class="reference external" href="https://www.nltk.org/">NLTK</a> is a widely used standard Natural Language Processing (NLP) and Computational Linguistics (CL) Python library with prebuilt functions and utilities for the ease of use and implementation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip install nltk
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: nltk in /opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages (3.4.5)
Requirement already satisfied: six in /opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages (from nltk) (1.16.0)
</pre></div>
</div>
</div>
</div>
<p>Now, in order to obtain the list of words from a sentence, we need to apply an NLP technique called <em>tokenization</em>.
Tokenization is the task of splitting the text (which otherwise is just a long stream of characters) into <em>tokens</em>, our basic unit of processing. This is quite close to what English speakers would call <em>words</em>. Before separating a sentence in words, we first need to obtain the sentences from a text, a process called <em>sentence splitting</em>.</p>
<p>Thus, for separating a text in sentences, we can use the NLTK method <code class="docutils literal notranslate"><span class="pre">sent_tokenize</span></code> and for obtaining the <em>tokens</em> (<em>words</em>) in a sentence, we use  <code class="docutils literal notranslate"><span class="pre">word_tokenize</span></code> as it follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk.tokenize</span> <span class="kn">import</span> <span class="n">word_tokenize</span><span class="p">,</span> <span class="n">sent_tokenize</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentences</span> <span class="o">=</span> <span class="n">sent_tokenize</span><span class="p">(</span><span class="s2">&quot;History is full of people who knew about history. But they kept on repeating the same mistakes again and again anyway.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">LookupError</span><span class="g g-Whitespace">                               </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ipykernel_1675</span><span class="o">/</span><span class="mf">2722065524.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">sentences</span> <span class="o">=</span> <span class="n">sent_tokenize</span><span class="p">(</span><span class="s2">&quot;History is full of people who knew about history. But they kept on repeating the same mistakes again and again anyway.&quot;</span><span class="p">)</span>

<span class="nn">/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/nltk/tokenize/__init__.py</span> in <span class="ni">sent_tokenize</span><span class="nt">(text, language)</span>
<span class="g g-Whitespace">    </span><span class="mi">103</span>     <span class="p">:</span><span class="n">param</span> <span class="n">language</span><span class="p">:</span> <span class="n">the</span> <span class="n">model</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">Punkt</span> <span class="n">corpus</span>
<span class="g g-Whitespace">    </span><span class="mi">104</span>     <span class="s2">&quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">105</span><span class="s2">     tokenizer = load(&#39;tokenizers/punkt/</span><span class="si">{0}</span><span class="s2">.pickle&#39;.format(language))</span>
<span class="g g-Whitespace">    </span><span class="mi">106</span><span class="s2">     return tokenizer.tokenize(text)</span>
<span class="g g-Whitespace">    </span><span class="mi">107</span><span class="s2"> </span>

<span class="nn">/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/nltk/data.py</span> in <span class="ni">load</span><span class="nt">(resource_url, format, cache, verbose, logic_parser, fstruct_reader, encoding)</span>
<span class="g g-Whitespace">    </span><span class="mi">866</span><span class="s2"> </span>
<span class="g g-Whitespace">    </span><span class="mi">867</span><span class="s2">     # Load the resource.</span>
<span class="ne">--&gt; </span><span class="mi">868</span><span class="s2">     opened_resource = _open(resource_url)</span>
<span class="g g-Whitespace">    </span><span class="mi">869</span><span class="s2"> </span>
<span class="g g-Whitespace">    </span><span class="mi">870</span><span class="s2">     if format == &#39;raw&#39;:</span>

<span class="nn">/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/nltk/data.py</span> in <span class="ni">_open</span><span class="nt">(resource_url)</span>
<span class="g g-Whitespace">    </span><span class="mi">991</span><span class="s2"> </span>
<span class="g g-Whitespace">    </span><span class="mi">992</span><span class="s2">     if protocol is None or protocol.lower() == &#39;nltk&#39;:</span>
<span class="ne">--&gt; </span><span class="mi">993</span><span class="s2">         return find(path_, path + [&#39;&#39;]).open()</span>
<span class="g g-Whitespace">    </span><span class="mi">994</span><span class="s2">     elif protocol.lower() == &#39;file&#39;:</span>
<span class="g g-Whitespace">    </span><span class="mi">995</span><span class="s2">         # urllib might not use mode=&#39;rb&#39;, so handle this one ourselves:</span>

<span class="nn">/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/nltk/data.py</span> in <span class="ni">find</span><span class="nt">(resource_name, paths)</span>
<span class="g g-Whitespace">    </span><span class="mi">699</span><span class="s2">     sep = &#39;*&#39; * 70</span>
<span class="g g-Whitespace">    </span><span class="mi">700</span><span class="s2">     resource_not_found = &#39;</span><span class="se">\n</span><span class="si">%s</span><span class="se">\n</span><span class="si">%s</span><span class="se">\n</span><span class="si">%s</span><span class="se">\n</span><span class="s2">&#39; % (sep, msg, sep)</span>
<span class="ne">--&gt; </span><span class="mi">701</span><span class="s2">     raise LookupError(resource_not_found)</span>
<span class="g g-Whitespace">    </span><span class="mi">702</span><span class="s2"> </span>
<span class="g g-Whitespace">    </span><span class="mi">703</span><span class="s2"> </span>

<span class="ne">LookupError</span>: 
<span class="s2">**********************************************************************</span>
<span class="s2">  Resource punkt not found.</span>
<span class="s2">  Please use the NLTK Downloader to obtain the resource:</span>

<span class="s2">  &gt;&gt;&gt; import nltk</span>
<span class="s2">  &gt;&gt;&gt; nltk.download(&#39;punkt&#39;)</span>
<span class="s2">  </span>
<span class="s2">  For more information see: https://www.nltk.org/data.html</span>

<span class="s2">  Attempted to load tokenizers/punkt/PY3/english.pickle</span>

<span class="s2">  Searched in:</span>
<span class="s2">    - &#39;/home/runner/nltk_data&#39;</span>
<span class="s2">    - &#39;/opt/hostedtoolcache/Python/3.8.12/x64/nltk_data&#39;</span>
<span class="s2">    - &#39;/opt/hostedtoolcache/Python/3.8.12/x64/share/nltk_data&#39;</span>
<span class="s2">    - &#39;/opt/hostedtoolcache/Python/3.8.12/x64/lib/nltk_data&#39;</span>
<span class="s2">    - &#39;/usr/share/nltk_data&#39;</span>
<span class="s2">    - &#39;/usr/local/share/nltk_data&#39;</span>
<span class="s2">    - &#39;/usr/lib/nltk_data&#39;</span>
<span class="s2">    - &#39;/usr/local/lib/nltk_data&#39;</span>
<span class="s2">    - &#39;&#39;</span>
<span class="s2">**********************************************************************</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sentences</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentences</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;History is full of people who knew about history.&#39;,
 &#39;But they kept on repeating the same mistakes again and again anyway.&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">words</span> <span class="o">=</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="s2">&quot;History is full of people who knew about history&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">words</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;History&#39;, &#39;is&#39;, &#39;full&#39;, &#39;of&#39;, &#39;people&#39;, &#39;who&#39;, &#39;knew&#39;, &#39;about&#39;, &#39;history&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">words</span> <span class="o">=</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">sentences</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;History&#39;, &#39;is&#39;, &#39;full&#39;, &#39;of&#39;, &#39;people&#39;, &#39;who&#39;, &#39;knew&#39;, &#39;about&#39;, &#39;history&#39;, &#39;.&#39;]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="iii-stopwords">
<h2>iii. Stopwords<a class="headerlink" href="#iii-stopwords" title="Permalink to this headline">¶</a></h2>
<p>When working with text mining applications, we often use the term <em>stopwords</em>. Stopwords are basically a set of commonly used words in any language (not just English). The reason why stopwords are critical to many applications is that, if we remove the words that are very commonly used in a given language, we can focus on the <em>important</em> words instead.</p>
<p>For example, in the context of a search engine, let’s consider that your search is <em>how to develop text mining applications?</em></p>
<p>If the search engine tries to find web pages that contained the terms <em>how</em>, <em>to</em>, <em>develop</em>, <em>text</em>, <em>mining</em>, <em>applications</em>, the search engine will find a lot more pages that contain the terms <em>how</em> and <em>to</em> than pages that contain information about developing text mining applications because the terms <em>how</em> and <em>to</em> are very commonly used in the English language.</p>
<p>If we disregard these two terms, the search engine can actually focus on retrieving pages that contain the keywords: <em>develop</em>, <em>text</em>, <em>mining</em>, <em>applications</em>, which would bring up pages that are actually of interest.</p>
<p>In NLP, there are some general developed pre-set lists with stopwords for many languages. First, we download them using <code class="docutils literal notranslate"><span class="pre">nltk.downloader</span></code>, and then we look at the English pre-set list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>python -m nltk.downloader stopwords
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>
<span class="n">stop_words</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>For example, for English, NLTK contains a list of 179 most commonly used words. You can also try other languages, by replacing <code class="docutils literal notranslate"><span class="pre">'english'</span></code> it with one of your choice (written in lowercase, e.g., <code class="docutils literal notranslate"><span class="pre">'turkish'</span></code>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stop_words</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>179
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">stop_words</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;does&#39;, &#39;were&#39;, &#39;own&#39;, &quot;mustn&#39;t&quot;, &#39;under&#39;, &#39;once&#39;, &#39;being&#39;, &#39;your&#39;, &#39;now&#39;, &#39;shan&#39;, &#39;himself&#39;, &#39;me&#39;, &#39;ain&#39;, &#39;what&#39;, &#39;didn&#39;, &#39;how&#39;, &#39;there&#39;, &quot;needn&#39;t&quot;, &#39;couldn&#39;, &#39;other&#39;, &#39;weren&#39;, &#39;aren&#39;, &#39;are&#39;, &#39;she&#39;, &#39;was&#39;, &quot;shouldn&#39;t&quot;, &#39;yourselves&#39;, &#39;can&#39;, &#39;he&#39;, &#39;a&#39;, &#39;his&#39;, &#39;no&#39;, &#39;then&#39;, &#39;while&#39;, &quot;you&#39;ll&quot;, &#39;wasn&#39;, &#39;is&#39;, &#39;my&#39;, &#39;we&#39;, &#39;for&#39;, &#39;up&#39;, &#39;these&#39;, &#39;doesn&#39;, &quot;haven&#39;t&quot;, &#39;herself&#39;, &#39;few&#39;, &#39;all&#39;, &#39;between&#39;, &quot;shan&#39;t&quot;, &#39;most&#39;, &#39;been&#39;, &#39;to&#39;, &#39;do&#39;, &#39;such&#39;, &quot;she&#39;s&quot;, &#39;our&#39;, &#39;ll&#39;, &#39;itself&#39;, &quot;mightn&#39;t&quot;, &#39;won&#39;, &#39;same&#39;, &#39;of&#39;, &#39;and&#39;, &#39;should&#39;, &#39;be&#39;, &#39;don&#39;, &#39;where&#39;, &quot;hadn&#39;t&quot;, &#39;i&#39;, &#39;y&#39;, &#39;over&#39;, &quot;you&#39;re&quot;, &#39;nor&#39;, &#39;m&#39;, &#39;but&#39;, &#39;on&#39;, &quot;doesn&#39;t&quot;, &#39;they&#39;, &#39;by&#39;, &#39;with&#39;, &#39;theirs&#39;, &#39;this&#39;, &#39;him&#39;, &#39;into&#39;, &#39;their&#39;, &#39;mightn&#39;, &#39;mustn&#39;, &#39;just&#39;, &quot;that&#39;ll&quot;, &quot;isn&#39;t&quot;, &quot;couldn&#39;t&quot;, &#39;down&#39;, &#39;here&#39;, &#39;hers&#39;, &#39;you&#39;, &#39;or&#39;, &#39;it&#39;, &#39;the&#39;, &#39;until&#39;, &#39;that&#39;, &#39;not&#39;, &#39;only&#39;, &#39;ve&#39;, &#39;during&#39;, &#39;s&#39;, &#39;yours&#39;, &#39;at&#39;, &#39;which&#39;, &#39;against&#39;, &#39;than&#39;, &#39;out&#39;, &#39;her&#39;, &quot;it&#39;s&quot;, &#39;if&#39;, &#39;o&#39;, &#39;myself&#39;, &#39;after&#39;, &#39;those&#39;, &#39;very&#39;, &#39;as&#39;, &#39;doing&#39;, &#39;has&#39;, &#39;some&#39;, &quot;wouldn&#39;t&quot;, &#39;ours&#39;, &#39;yourself&#39;, &#39;hadn&#39;, &#39;too&#39;, &#39;when&#39;, &#39;about&#39;, &#39;haven&#39;, &#39;above&#39;, &#39;its&#39;, &quot;should&#39;ve&quot;, &#39;have&#39;, &#39;further&#39;, &#39;did&#39;, &#39;both&#39;, &#39;through&#39;, &quot;wasn&#39;t&quot;, &#39;why&#39;, &#39;re&#39;, &#39;whom&#39;, &#39;ourselves&#39;, &#39;t&#39;, &quot;you&#39;ve&quot;, &quot;you&#39;d&quot;, &#39;hasn&#39;, &#39;an&#39;, &#39;again&#39;, &quot;didn&#39;t&quot;, &#39;so&#39;, &#39;them&#39;, &quot;hasn&#39;t&quot;, &#39;who&#39;, &#39;having&#39;, &#39;before&#39;, &#39;had&#39;, &#39;themselves&#39;, &#39;off&#39;, &#39;any&#39;, &#39;shouldn&#39;, &#39;more&#39;, &#39;below&#39;, &#39;from&#39;, &quot;don&#39;t&quot;, &#39;because&#39;, &#39;ma&#39;, &quot;won&#39;t&quot;, &#39;in&#39;, &#39;wouldn&#39;, &#39;each&#39;, &quot;weren&#39;t&quot;, &#39;isn&#39;, &quot;aren&#39;t&quot;, &#39;will&#39;, &#39;am&#39;, &#39;needn&#39;, &#39;d&#39;}
</pre></div>
</div>
</div>
</div>
<p>Once we have the tokens, we can check the count and frequency distributions of words in a text. Computing these word frequencies in large collections of texts can also reveal the most commonly used words (or <em>stopwords</em>). For example, if we take the previous <code class="docutils literal notranslate"><span class="pre">sentence</span></code>, we obtain:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk.probability</span> <span class="kn">import</span> <span class="n">FreqDist</span>

<span class="n">fdist</span> <span class="o">=</span> <span class="n">FreqDist</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">fdist</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;again&#39;, 2), (&#39;History&#39;, 1), (&#39;is&#39;, 1), (&#39;full&#39;, 1), (&#39;of&#39;, 1), (&#39;people&#39;, 1), (&#39;who&#39;, 1), (&#39;knew&#39;, 1), (&#39;about&#39;, 1), (&#39;history&#39;, 1)]
</pre></div>
</div>
</div>
</div>
<p>When we first invoke <a class="reference external" href="http://www.nltk.org/api/nltk.html?highlight=freqdist">FreqDist</a>, we pass the name of the text as an argument. The expression <code class="docutils literal notranslate"><span class="pre">most_common(10</span></code>) gives us a list of the 10 most frequently occurring types in the text (in this case, it will print all the words in the <code class="docutils literal notranslate"><span class="pre">sentence</span></code> since the length of the <code class="docutils literal notranslate"><span class="pre">sentence</span></code> is less than 10).</p>
</div>
<div class="section" id="iv-collocations-and-n-grams">
<h2>iv. Collocations and n-grams<a class="headerlink" href="#iv-collocations-and-n-grams" title="Permalink to this headline">¶</a></h2>
<p>A <em>collocation</em> is a sequence of words that occur together unusually often. To understand collocations, we start by extracting from the <code class="docutils literal notranslate"><span class="pre">sentence</span></code> a list of word pairs, also known as bigrams. The <em>bigrams</em> are lists of two words (<em>bi</em>), while n-grams are lists of <em>n</em> words (e.g. ..). This is easily accomplished with the function <code class="docutils literal notranslate"><span class="pre">bigrams()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk</span> <span class="kn">import</span> <span class="n">bigrams</span>

<span class="n">list_of_bigrams</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">bigrams</span><span class="p">(</span><span class="n">sentence</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">list_of_bigrams</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;History&#39;, &#39;is&#39;), (&#39;is&#39;, &#39;full&#39;), (&#39;full&#39;, &#39;of&#39;), (&#39;of&#39;, &#39;people&#39;), (&#39;people&#39;, &#39;who&#39;), (&#39;who&#39;, &#39;knew&#39;), (&#39;knew&#39;, &#39;about&#39;), (&#39;about&#39;, &#39;history&#39;), (&#39;history&#39;, &#39;but&#39;), (&#39;but&#39;, &#39;kept&#39;), (&#39;kept&#39;, &#39;on&#39;), (&#39;on&#39;, &#39;repeating&#39;), (&#39;repeating&#39;, &#39;the&#39;), (&#39;the&#39;, &#39;same&#39;), (&#39;same&#39;, &#39;mistakes&#39;), (&#39;mistakes&#39;, &#39;again&#39;), (&#39;again&#39;, &#39;and&#39;), (&#39;and&#39;, &#39;again&#39;), (&#39;again&#39;, &#39;anyway&#39;), (&#39;anyway&#39;, &#39;.&#39;)]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="v-part-of-speech-pos-tagging">
<h2>v. Part-of-speech (PoS) tagging<a class="headerlink" href="#v-part-of-speech-pos-tagging" title="Permalink to this headline">¶</a></h2>
<p>The part of speech explains how a word is used in a sentence. There are eight main parts of speech - nouns, pronouns, adjectives, verbs, adverbs, prepositions, conjunctions and interjections.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>- Noun (N)- Daniel, London, table, dog, teacher, pen, city, happiness, hope
- Verb (V)- go, speak, run, eat, play, live, walk, have, like, are, is
- Adjective(ADJ)- big, happy, green, young, fun, crazy, three
- Adverb(ADV)- slowly, quietly, very, always, never, too, well, tomorrow
- Preposition (P)- at, on, in, from, with, near, between, about, under
- Conjunction (CON)- and, or, but, because, so, yet, unless, since, if
- Pronoun(PRO)- I, you, we, they, he, she, it, me, us, them, him, her, this
- Interjection (INT)- Ouch! Wow! Great! Help! Oh! Hey! Hi!
</pre></div>
</div>
<p>A part-of-speech tagger, or POS-tagger, processes a sequence of words, and attaches a part of speech tag to each word:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk</span> <span class="kn">import</span> <span class="n">pos_tag</span>

<span class="n">pos_tags_sentence</span> <span class="o">=</span> <span class="n">pos_tag</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>

<span class="n">pos_tags_sentence</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;History&#39;, &#39;NN&#39;),
 (&#39;is&#39;, &#39;VBZ&#39;),
 (&#39;full&#39;, &#39;JJ&#39;),
 (&#39;of&#39;, &#39;IN&#39;),
 (&#39;people&#39;, &#39;NNS&#39;),
 (&#39;who&#39;, &#39;WP&#39;),
 (&#39;knew&#39;, &#39;VBD&#39;),
 (&#39;about&#39;, &#39;IN&#39;),
 (&#39;history&#39;, &#39;NN&#39;),
 (&#39;but&#39;, &#39;CC&#39;),
 (&#39;kept&#39;, &#39;VBD&#39;),
 (&#39;on&#39;, &#39;IN&#39;),
 (&#39;repeating&#39;, &#39;VBG&#39;),
 (&#39;the&#39;, &#39;DT&#39;),
 (&#39;same&#39;, &#39;JJ&#39;),
 (&#39;mistakes&#39;, &#39;NNS&#39;),
 (&#39;again&#39;, &#39;RB&#39;),
 (&#39;and&#39;, &#39;CC&#39;),
 (&#39;again&#39;, &#39;RB&#39;),
 (&#39;anyway&#39;, &#39;RB&#39;),
 (&#39;.&#39;, &#39;.&#39;)]
</pre></div>
</div>
</div>
</div>
<p>Here we see that <code class="docutils literal notranslate"><span class="pre">&quot;and&quot;</span></code> is CC, a coordinating conjunction; <code class="docutils literal notranslate"><span class="pre">&quot;again&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;anyway&quot;</span></code> are RB, or adverbs; <code class="docutils literal notranslate"><span class="pre">&quot;about</span></code> is IN, a preposition; <code class="docutils literal notranslate"><span class="pre">&quot;History&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;history</span></code> are NN, nouns; <code class="docutils literal notranslate"><span class="pre">&quot;people&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;mistakes&quot;</span></code> are plural nouns; <code class="docutils literal notranslate"><span class="pre">&quot;full&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;same&quot;</span></code> are JJ, adjectives; <code class="docutils literal notranslate"><span class="pre">&quot;is&quot;</span></code> is VBZ, a verb, 3rd person singular present; <code class="docutils literal notranslate"><span class="pre">&quot;kept&quot;</span></code> is VBD, a verb, past tense; <code class="docutils literal notranslate"><span class="pre">&quot;repeating&quot;</span></code> is VBG, a verb, gerund/present participle, <code class="docutils literal notranslate"><span class="pre">&quot;who&quot;</span></code> is WP, a wh-pronoun, and <code class="docutils literal notranslate"><span class="pre">&quot;determiner&quot;</span></code> is DT, a determiner.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>python -m nltk.downloader tagsets
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk</span> <span class="kn">import</span> <span class="n">help</span>

<span class="n">help</span><span class="o">.</span><span class="n">upenn_tagset</span><span class="p">(</span><span class="s2">&quot;NNS&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NNS: noun, common, plural
    undergraduates scotches bric-a-brac products bodyguards facets coasts
    divestitures storehouses designs clubs fragrances averages
    subjectivists apprehensions muses factory-jobs ...
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="vi-chunking">
<h2>vi. Chunking<a class="headerlink" href="#vi-chunking" title="Permalink to this headline">¶</a></h2>
<p>Chunking segments texts and depends on PoS tagging. Like tokenization, which omits whitespace, chunking usually selects a subset of the tokens. Instead of just simple tokens which may not represent the actual meaning of the text, its advisable to use phrases such as <em>South Africa</em> as a single word instead of <em>South</em> and <em>Africa</em> separate words. Also like tokenization, the pieces produced by a chunker do not overlap in the source text. To find the chunk structure for a given sentence, the <code class="docutils literal notranslate"><span class="pre">RegexpParser</span></code> chunker begins with a flat structure in which no tokens are chunked. The chunking rules are applied in turn, successively updating the chunk structure. Once all of the rules have been invoked, the resulting chunk structure is returned.</p>
<p>The next example shows a simple chunk grammar consisting of two rules. The first rule matches an optional determiner (<code class="docutils literal notranslate"><span class="pre">DT</span></code>) or possessive pronoun (<code class="docutils literal notranslate"><span class="pre">PP</span></code>), zero or more adjectives (<code class="docutils literal notranslate"><span class="pre">JJ</span></code>) then a noun (<code class="docutils literal notranslate"><span class="pre">NN</span></code>) or more nouns (<code class="docutils literal notranslate"><span class="pre">NNS</span></code>). The second rule matches one or more proper nouns (<code class="docutils literal notranslate"><span class="pre">NNP</span></code>). We will use the previous sentence with the already detected parts of speech, and run the chunker on this input.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">nltk</span>

<span class="n">grammar</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">  NP: {&lt;DT|PP\$&gt;?&lt;JJ&gt;*&lt;NN|NNS&gt;}   # chunk determiner/possessive, adjectives and noun or nouns</span>
<span class="s2">      {&lt;NNS&gt;+}                # chunk sequences of proper nouns</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">chunker</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">RegexpParser</span><span class="p">(</span><span class="n">grammar</span><span class="p">)</span> <span class="c1"># chunker</span>

<span class="n">chunks_sentence</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">pos_tags_sentence</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">chunks_sentence</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(S
  (NP History/NN)
  is/VBZ
  full/JJ
  of/IN
  (NP people/NNS)
  who/WP
  knew/VBD
  about/IN
  (NP history/NN)
  but/CC
  kept/VBD
  on/IN
  repeating/VBG
  (NP the/DT same/JJ mistakes/NNS)
  again/RB
  and/CC
  again/RB
  anyway/RB
  ./.)
</pre></div>
</div>
</div>
</div>
<p>We can also visualize it directly with the help of Jupyter Notebook:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chunks_sentence</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/2-2-1-text-mining_69_0.png" src="../_images/2-2-1-text-mining_69_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk</span> <span class="kn">import</span> <span class="n">ne_chunk</span>

<span class="n">ne_chunks_sentence</span> <span class="o">=</span> <span class="n">ne_chunk</span><span class="p">(</span><span class="n">pos_tags_sentence</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">ne_chunks_sentence</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(S
  (GPE History/NN)
  is/VBZ
  full/JJ
  of/IN
  people/NNS
  who/WP
  knew/VBD
  about/IN
  history/NN
  but/CC
  kept/VBD
  on/IN
  repeating/VBG
  the/DT
  same/JJ
  mistakes/NNS
  again/RB
  and/CC
  again/RB
  anyway/RB
  ./.)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ne_chunks_sentence</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/2-2-1-text-mining_71_0.png" src="../_images/2-2-1-text-mining_71_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ie_preprocess</span><span class="p">(</span><span class="n">document</span><span class="p">):</span>
    <span class="n">sentences</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">sent_tokenize</span><span class="p">(</span><span class="n">document</span><span class="p">)</span>
    <span class="n">sentences</span> <span class="o">=</span> <span class="p">[</span><span class="n">nltk</span><span class="o">.</span><span class="n">word_tokenize</span><span class="p">(</span><span class="n">sent</span><span class="p">)</span> <span class="k">for</span> <span class="n">sent</span> <span class="ow">in</span> <span class="n">sentences</span><span class="p">]</span>
    <span class="n">sentences</span> <span class="o">=</span> <span class="p">[</span><span class="n">nltk</span><span class="o">.</span><span class="n">pos_tag</span><span class="p">(</span><span class="n">sent</span><span class="p">)</span> <span class="k">for</span> <span class="n">sent</span> <span class="ow">in</span> <span class="n">sentences</span><span class="p">]</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./unit2"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="2-1-1-information-extraction-overview.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Document Understanding and Information Extraction Overview</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="2-2-2-named-entity-recognition.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Named Entity Recognition (NER)</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By DiMPAH IO4 Team<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>